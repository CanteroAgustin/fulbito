(()=>{var e={3618:(e,t,r)=>{"use strict";r.r(t);var n=r(3697),o=r(8799),l=r(9439),a=r(5219),i=(0,o.createContext)({}),u=function(e){var t=e.children,r=(0,o.useState)(null),n=(0,l.default)(r,2),u=n[0],s=n[1];return(0,a.jsx)(i.Provider,{value:{user:u,setUser:s},children:t})},s=r(6317),d=r(2144),c=r(9412),f=r(1105),h=r(4942),p=r(5861),v=r(4497),g=r(324),j=r(6898),b=r(7735),m=r(8968),y=r(1214),x=r(1951),O=r(1899),w=r(2105),S=r(3905),C=r(4849),P=r(9949),k=r(7485),I=r(8132),q=r(9750),D=r(4577),_=r(1430),A=r(3866),E=r(7659),N=r(1593),R=r(6478),F=r(2091),z=(0,N.initializeApp)({apiKey:"AIzaSyC4NNoc_wO57-CxRdo5f5bqF8p8DLwCA9E",authDomain:"fulbitosecla.firebaseapp.com",projectId:"fulbitosecla",storageBucket:"fulbitosecla.appspot.com",messagingSenderId:"535761942486",appId:"1:535761942486:web:5cf544781380d70b869677"}),T=(0,R.getFirestore)(z);(0,F.getAuth)(z),new F.GoogleAuthProvider;function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}x.maybeCompleteAuthSession();var U=A.object({apodo:A.string().required()}).required();function J(){var e=(0,o.useContext)(i),t=e.user,r=e.setUser,n=(0,o.useState)(!1),u=(0,l.default)(n,2),d=u[0],c=u[1],f=(0,o.useState)(null),h=(0,l.default)(f,2),v=h[0],x=h[1],A=(0,o.useState)(""),N=(0,l.default)(A,2),F=N[0],z=N[1],M=(0,m.useForm)({resolver:(0,E.yupResolver)(U)}),J=M.control,V=M.handleSubmit,W=(M.formState.errors,function(e){z(e.target.value)}),G=O.useAuthRequest({androidClientId:"535761942486-oas8lvtva2m7j08qb5nhq0n1uk97kh1j.apps.googleusercontent.com",iosClientId:"535761942486-7amoqiclcntblbsu68i5dlk79s2fhlqt.apps.googleusercontent.com",webClientId:"535761942486-lip9sci1vcah62g0fpj41lv29nioqqnl.apps.googleusercontent.com"}),H=(0,l.default)(G,3),K=H[0],Q=H[1],X=H[2];function Y(){return(Y=(0,p.default)((function*(){t||"success"===(null==Q?void 0:Q.type)&&(yield Z(Q.authentication.accessToken),(yield(0,R.getDocs)((0,R.collection)(T,"users"))).forEach((function(e){var t;if((null==e||null==(t=e.data())?void 0:t.email)===(null==v?void 0:v.email))return r(e.data()),void j.default.setItem("@user",JSON.stringify(e.data()))})),c(!0))}))).apply(this,arguments)}(0,o.useEffect)((function(){!function(){Y.apply(this,arguments)}()}),[Q]);var Z=function(){var e=(0,p.default)((function*(e){if(e)try{var t=yield fetch("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer "+e}}),r=yield t.json();x(r)}catch(n){}}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,p.default)((function*(e){yield ee(v,e)}));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,p.default)((function*(e,t){try{yield(0,R.addDoc)((0,R.collection)(T,"users"),B(B({},e),{},{apodo:t.apodo,posicion:F})),(yield(0,R.getDocs)((0,R.collection)(T,"users"))).forEach((function(t){var n;(null==t||null==(n=t.data())?void 0:n.email)===(null==e?void 0:e.email)&&(r(t.data()),j.default.setItem("@user",JSON.stringify(t.data())),c(!d))}))}catch(n){console.error("Error adding document: ",n)}}));return function(t,r){return e.apply(this,arguments)}}();return(0,a.jsxs)(s.default,{style:L.container,children:[!d&&(0,a.jsx)(w.default.Button,{disabled:!K,name:"google",backgroundColor:"#4285F4",style:{fontFamily:"Roboto"},onPress:function(){X()},children:"Login with Google"}),d&&(0,a.jsx)(s.default,{style:L.centeredView,children:(0,a.jsxs)(s.default,{style:L.modalView,children:[v&&(0,a.jsx)(b.default,{size:100,src:v.picture}),(0,a.jsx)(g.default,{style:L.text,children:"Completa tu perfil de jugador."}),(0,a.jsx)("form",{style:{height:"100%"},onSubmit:V($),children:(0,a.jsxs)(S.default,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[(0,a.jsx)(C.default,{children:(0,a.jsx)(m.Controller,{name:"apodo",control:J,render:function(e){var t=e.field;return(0,a.jsx)(P.default,B(B({},t),{},{id:"outlined-basic",label:"Apodo",variant:"outlined"}))}})}),(0,a.jsx)(C.default,{children:(0,a.jsx)(m.Controller,{name:"select",control:J,render:function(e){var t=e.field;return(0,a.jsxs)(k.default,{required:!0,sx:{minWidth:"100%"},children:[(0,a.jsx)(I.default,{id:"demo-controlled-open-select-label",children:"Posicion"}),(0,a.jsxs)(q.default,B(B({},t),{},{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",value:F,label:"Posicion *",onChange:W,children:[(0,a.jsx)(D.default,{value:"",children:(0,a.jsx)("em",{children:"None"})}),(0,a.jsx)(D.default,{value:"arquero",children:"Arquero"}),(0,a.jsx)(D.default,{value:"defensor",children:"Defensor"}),(0,a.jsx)(D.default,{value:"medio",children:"Medio"}),(0,a.jsx)(D.default,{value:"delantero",children:"Delantero"})]}))]})}})}),(0,a.jsx)(C.default,{children:(0,a.jsx)(_.default,{type:"submit",variant:"contained",sx:{minWidth:"100%"},children:"Finalizar"})})]})})]})}),(0,a.jsx)(y.default,{style:"auto"})]})}var L=v.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},modalView:{margin:20,height:500,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},image:{marginTop:150,marginBottom:10,width:"100%",height:350}}),V=(0,f.default)();function W(){return(0,a.jsx)(V.Navigator,{children:(0,a.jsx)(V.Screen,{name:"Login",component:J,options:{headerShown:!1}})})}var G=r(3478);function H(){var e=(0,o.useContext)(i),t=e.user,r=e.setUser,n=function(){var e=(0,p.default)((function*(){try{j.default.removeItem("@user"),r(null)}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(s.default,{style:K.container,children:[(0,a.jsx)(g.default,{children:JSON.stringify(t,null,2)}),(0,a.jsx)(G.default,{onPress:n,title:"Salir"})]})}var K=v.default.create({container:{flex:1,backgroundColor:"#e8eaf6"}}),Q=(0,f.default)();function X(){return(0,a.jsx)(Q.Navigator,{children:(0,a.jsx)(Q.Screen,{name:"Home",component:H})})}v.default.create({headerRight:{paddingRight:30}});function Y(){var e=(0,o.useState)(!0),t=(0,l.default)(e,2),r=t[0],n=t[1],u=(0,o.useContext)(i),f=u.user;u.setUser;return(0,o.useEffect)((function(){n(!1)}),[f]),r?(0,a.jsx)(s.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,a.jsx)(d.default,{size:"small",color:"#0000ff"})}):(0,a.jsx)(c.default,{children:f?(0,a.jsx)(X,{}):(0,a.jsx)(W,{})})}(0,n.default)((function(){return(0,a.jsx)(u,{children:(0,a.jsx)(Y,{})})}))},4654:()=>{}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,l)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,o,l]=e[d],i=!0,u=0;u<n.length;u++)(!1&l||a>=l)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(i=!1,l<a&&(a=l));if(i){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,o,l]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var l=Object.create(null);r.r(l);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,r.d(l,a),l}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,l,[a,i,u]=n,s=0;if(a.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var d=u(r)}for(t&&t(n);s<a.length;s++)l=a[s],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[485],(()=>r(3618)));n=r.O(n)})();
//# sourceMappingURL=main.8d435e15.js.map