(()=>{var e={2571:(e,t,n)=>{"use strict";n.r(t);var o=n(5629),r=n(9526),a=n(3433),i=n(9439),l=n(1402),s=n(1844),u=n(4886),c=(0,s.initializeApp)({apiKey:"AIzaSyC4NNoc_wO57-CxRdo5f5bqF8p8DLwCA9E",authDomain:"fulbitosecla.firebaseapp.com",projectId:"fulbitosecla",storageBucket:"fulbitosecla.appspot.com",messagingSenderId:"535761942486",appId:"1:535761942486:web:5cf544781380d70b869677"}),d=(0,l.initializeFirestore)(c,{experimentalForceLongPolling:!0}),f=((0,u.getAuth)(c),new u.GoogleAuthProvider,n(7557)),h=(0,r.createContext)({}),p=function(e){var t=e.children,n=(0,r.useState)(null),o=(0,i.default)(n,2),s=o[0],u=o[1],c=(0,r.useState)([]),p=(0,i.default)(c,2),g=p[0],j=p[1];return(0,r.useEffect)((function(){var e=(0,l.collection)(d,"usuarios");(0,l.onSnapshot)(e,(function(e){j([]),e.forEach((function(e){j((function(t){return[].concat((0,a.default)(t),[e.data()])}))}))}))}),[]),(0,f.jsx)(h.Provider,{value:{user:s,setUser:u,players:g,setPlayers:j},children:t})},g=n(1133),j=n(6032),y=n(3535),m=n(5519),x=n(8423),v=n(5861),b=n(4333),O=n(3292),C=n(4560),S=n(7083),E=n(9317),P=n(9233),w=n(1553),D=n(3122),k=n(5609),T=n(3987),B=n(1707);const I=B.object().shape({apodo:B.string().required("El nombre no puede quedar vacio!!!")});var A=n(5335),M={ADMIN:"admin",TESORERO:"tesorero"},z="team1",N="team2",q={MATCHES:"matches",PLAYERS:"usuarios",POOL:"pool"},R={TEAM_ONE:"1",TEAM_TWO:"2",TIE:"0"},L={ONE:1,THREE:3},_={ONE:1},F=n(4942);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,F.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=q.PLAYERS;function H(e){(0,l.setDoc)((0,l.doc)(d,G,e.id),W({},e))}function U(e,t,n){e.forEach((function(e){n.forEach((function(n){e.id===n.id&&(n.estadisticas.jugados+=_.ONE,n.estadisticas.puntos+=t,t===L.THREE?n.estadisticas.ganados+=_.ONE:n.estadisticas.empatados+=_.ONE,H(n))}))}))}function J(e,t){e.forEach((function(e){t.forEach((function(t){e.id===t.id&&(t.estadisticas.perdidos+=_.ONE,t.estadisticas.jugados+=_.ONE,H(t))}))}))}function Y(e,t,n){!function(e,t,n){(0,l.setDoc)((0,l.doc)(d,"usuarios",e.id),W(W({},e),{},{apodo:n,status:"ACTIVE",estadisticas:{ganados:0,empatados:0,perdidos:0,jugados:0,puntos:0},rol:[],posicion:t}))}(e,t,n)}function K(e){var t=e.tempUser,n=(0,r.useContext)(h),o=(n._,n.setUser),a=(0,r.useState)("Arquero"),s=(0,i.default)(a,2),u=s[0],c=s[1],p=[{key:"1",value:"Arquero"},{key:"2",value:"Defensor"},{key:"3",value:"Medio"},{key:"4",value:"Delantero"}],j=function(){var e=(0,v.default)((function*(e){Y(t,1!=u?u:"Arquero",e.apodo),(0,l.onSnapshot)((0,l.doc)(d,"usuarios",t.id),(function(e){o(e.data()),m.default.setItem("@user",JSON.stringify(e.data()))}))}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)(A.Formik,{initialValues:{apodo:""},validationSchema:I,onSubmit:function(e){j(e)},children:function(e){var n=e.handleChange,o=e.handleBlur,r=e.handleSubmit,a=e.values,i=e.errors,l=e.isValid;return(0,f.jsxs)(g.default,{style:Q.modalView,children:[(0,f.jsxs)(g.default,{style:Q.avatarContainer,children:[t&&(0,f.jsx)(T.default,{size:100,src:t.picture}),(0,f.jsx)(P.default,{style:Q.text,children:"Completa tu perfil de jugador."})]}),(0,f.jsxs)(g.default,{style:Q.apodoContainer,children:[(0,f.jsx)(D.default,{mode:"outlined",label:"Nombre",onChangeText:n("apodo"),onBlur:o("apodo"),value:a.apodo}),i.apodo&&(0,f.jsx)(P.default,{style:{textAlign:"center",fontSize:15,color:"red",paddingTop:10},children:i.apodo})]}),(0,f.jsx)(g.default,{style:Q.selectContainer,children:(0,f.jsx)(k.SelectList,{search:!1,setSelected:function(e){return c(e)},data:p,save:"value",defaultOption:{key:"1",value:"Arquero"}})}),(0,f.jsx)(w.default,{disabled:!l,style:Q.saveBtn,buttonColor:"#1B5E20",mode:"contained",onPress:r,title:"Guardar"})]})}})}var Q=b.default.create({avatarContainer:{alignItems:"center"},modalView:{backgroundColor:"white",borderRadius:20,padding:50,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},apodoContainer:{marginBottom:10},selectContainer:{marginBottom:10},saveBtn:{width:"100%",position:"absolute",bottom:0}});function X(){var e=(0,r.useContext)(h),t=(e.user,e.setUser),n=(0,r.useState)(!1),o=(0,i.default)(n,2),a=o[0],s=o[1],u=(0,r.useState)(null),c=(0,i.default)(u,2),p=c[0],j=c[1],y=S.useAuthRequest({androidClientId:"535761942486-oas8lvtva2m7j08qb5nhq0n1uk97kh1j.apps.googleusercontent.com",iosClientId:"535761942486-7amoqiclcntblbsu68i5dlk79s2fhlqt.apps.googleusercontent.com",webClientId:"535761942486-lip9sci1vcah62g0fpj41lv29nioqqnl.apps.googleusercontent.com"}),x=(0,i.default)(y,3),b=x[0],C=x[1],P=x[2];function w(){return(w=(0,v.default)((function*(){"success"===(null==C?void 0:C.type)&&(console.log("response success from google"),yield D(C.authentication.accessToken))}))).apply(this,arguments)}(0,r.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[C]);var D=function(){var e=(0,v.default)((function*(e){if(e){var n=yield fetch("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer "+e}}),o=yield n.json();j(o);var r=(0,l.doc)(d,"usuarios",o.id),a=yield(0,l.getDoc)(r);a.exists()?(t(a.data()),m.default.setItem("@user",JSON.stringify(a.data()))):s(!0)}}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)(g.default,{style:Z.container,children:[!a&&(0,f.jsx)(E.default.Button,{disabled:!b,name:"google",backgroundColor:"#4285F4",style:{fontFamily:"Roboto"},onPress:function(){P()},children:"Login with Google"}),a&&(0,f.jsx)(K,{tempUser:p}),(0,f.jsx)(O.default,{style:"auto"})]})}C.maybeCompleteAuthSession();var Z=b.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}}),$=(0,x.default)();function ee(){return(0,f.jsx)($.Navigator,{children:(0,f.jsx)($.Screen,{name:"Login",component:X,options:{headerShown:!1}})})}var te=n(6458),ne=n(1787),oe=n(1054),re=n(9570),ae=n(3665),ie=n(5899),le=n(2869);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,F.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=(0,r.useContext)(h).players;return(0,f.jsx)(g.default,{style:de.container,children:t.map((function(t){var n,o,r,a,i;return(0,f.jsxs)(re.default,{style:de.surface,elevation:4,children:[(0,f.jsx)(ae.default,ue(ue({style:de.avatar},e),{},{size:48,source:{uri:null==t?void 0:t.picture}})),(0,f.jsxs)(g.default,{style:de.cardContainer,children:[(0,f.jsxs)(ie.default,{style:de.textApodo,children:[null==t?void 0:t.apodo," - ",null==t?void 0:t.posicion]}),(0,f.jsxs)(g.default,{style:de.badgesContainer,children:[(0,f.jsxs)(le.default,{size:25,style:de.badge,children:["J: ",null==t||null==(n=t.estadisticas)?void 0:n.jugados]}),(0,f.jsxs)(le.default,{size:25,style:de.badge,children:["G: ",null==t||null==(o=t.estadisticas)?void 0:o.ganados]}),(0,f.jsxs)(le.default,{size:25,style:de.badge,children:["E: ",null==t||null==(r=t.estadisticas)?void 0:r.empatados]}),(0,f.jsxs)(le.default,{size:25,style:de.badge,children:["P: ",null==t||null==(a=t.estadisticas)?void 0:a.perdidos]})]})]}),(0,f.jsxs)(le.default,{size:25,style:de.badgePuntos,children:["Puntos: ",null==t||null==(i=t.estadisticas)?void 0:i.puntos]})]},null==t?void 0:t.id)}))})}var de=b.default.create({container:{flex:1,backgroundColor:"#fff"},surfaceWeb:{display:"flex",flexDirection:"row",alignSelf:"center",padding:8,alignItems:"center",borderRadius:10,margin:5,minWidth:500,maxWidth:700},surface:{display:"flex",flexDirection:"row",padding:8,alignItems:"center",borderRadius:10,margin:5},avatar:{alignSelf:"flex-start"},textApodo:{margin:2,fontWeight:"500"},cardContainer:{marginLeft:10},badgesContainer:{display:"flex",flexDirection:"row"},badgePuntos:{alignSelf:"center",marginLeft:"auto",backgroundColor:"#1B5E20"},badge:{margin:1,backgroundColor:"#A5D6A7"}}),fe=n(477),he=n(2452),pe=n(7394),ge=n(529),je=n(684),ye=n(7322),me=n.n(ye);const xe=B.object().shape({lugar:B.string().required("El lugar no puede quedar vacio!!!")});var ve=n(3486),be=n(6770),Oe=n(853),Ce=n(1959),Se=function(e,t){var n=[];return e.forEach((function(e){Pe(t,e)||n.push({key:e.id,value:e.apodo})})),n},Ee=function(e,t){return e.find((function(e){return e.id===t}))},Pe=function(e,t){var n=!1;return e.players.some((function(e){e.apodo===t.apodo&&(n=!0)})),e.team1&&e.team1.some((function(e){e.apodo===t.apodo&&(n=!0)})),e.team2&&e.team2.some((function(e){e.apodo===t.apodo&&(n=!0)})),n};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,F.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=q.MATCHES;function Te(e){(0,l.setDoc)((0,l.doc)(d,ke,e.id),De({},e))}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,F.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t){Ee(e.players,t.id)||(e.players.push(t),Te(e))}function Me(e,t,n){e.status="terminado",function(e,t){(0,l.setDoc)((0,l.doc)(d,"matches",e.id),De(De({},e),{},{win:t}))}(e,t),function(e,t,n){switch(t){case R.TEAM_ONE:U(e.team1,L.THREE,n),J(e.team2,n);break;case R.TEAM_TWO:U(e.team2,L.THREE,n),J(e.team1,n);break;case R.TIE:U(e.team1.concat(e.team2,L.ONE),L.ONE,n);break;default:console.log("error")}}(e,t,n)}var ze=b.default.create({finishDialogText:{alignSelf:"center",fontWeight:"bold",paddingBottom:20,fontSize:20,color:"#388E3C"}});const Ne=function(e){var t=e.title,n=e.text,o=e.match,a=e.visible,l=e.hideDialog,s=(0,r.useContext)(h).players,u=(0,r.useState)("checked"),c=(0,i.default)(u,2),d=c[0],p=c[1];return(0,f.jsxs)(Ce.default,{visible:a,onDismiss:l,children:[(0,f.jsx)(Ce.default.Title,{children:t}),(0,f.jsx)(ie.default,{style:ze.finishDialogText,children:n}),(0,f.jsx)(Ce.default.Content,{children:(0,f.jsx)(Oe.default,{value:d,onValueChange:p,buttons:[{value:"1",label:"Equipo 1"},{value:"0",label:"Empate"},{value:"2",label:"Equipo 2"}]})}),(0,f.jsxs)(Ce.default.Actions,{children:[(0,f.jsx)(pe.default,{onPress:function(){return Me(o,d,s)},children:"Finalizar"}),(0,f.jsx)(pe.default,{onPress:l,children:"Cancelar"})]})]})};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Re=function(e){var t=e.title,n=e.text,o=e.match,r=e.visible,a=e.hideDialog,i=function(){var e=(0,v.default)((function*(e){e.status="cancelado",yield(0,l.setDoc)((0,l.doc)(d,"matches",e.id),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,F.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)(Ce.default,{visible:r,onDismiss:a,children:[(0,f.jsx)(Ce.default.Title,{children:t}),(0,f.jsx)(Ce.default.Content,{children:(0,f.jsx)(ie.default,{variant:"bodyMedium",children:n})}),(0,f.jsxs)(Ce.default.Actions,{children:[(0,f.jsx)(pe.default,{onPress:function(){return i(o)},children:"Si"}),(0,f.jsx)(pe.default,{onPress:a,children:"No"})]})]})};function Le(e){var t=e.addPlayerToMatch,n=e.match,o=(0,r.useContext)(h).players,a=Se(o,n);return(0,f.jsx)(g.default,{style:_e.container,children:(0,f.jsx)(k.SelectList,{placeholder:"Seleccione jugador",search:!1,setSelected:function(e){return t((n=e,o.find((function(e){return e.apodo===n}))));var n},data:a,save:"value"})})}var _e=b.default.create({container:{padding:10,height:"100%",backgroundColor:"#fff",right:80}}),Fe=n(7385);function Ve(e){var t=e.match,n=e.closeGuestModalEvent,o=(0,r.useState)("Arquero"),a=(0,i.default)(o,2),l=a[0],s=a[1],u=[{key:"1",value:"Arquero"},{key:"2",value:"Defensor"},{key:"3",value:"Medio"},{key:"4",value:"Delantero"}];return(0,f.jsx)(A.Formik,{initialValues:{apodo:""},validationSchema:I,onSubmit:function(e){var o={apodo:"",posicion:"",rol:""},r=1!=l?l:"Arquero";o.id=Fe.default.v4(),o.apodo=e.apodo,o.posicion=r,o.rol=["invitado"],Ae(t,o),n()},children:function(e){var t=e.handleChange,n=e.handleBlur,o=e.handleSubmit,r=e.values,a=e.errors,i=e.isValid;return(0,f.jsxs)(g.default,{style:We.modalView,children:[(0,f.jsxs)(g.default,{style:We.apodoContainer,children:[(0,f.jsx)(D.default,{mode:"outlined",label:"Nombre",onChangeText:t("apodo"),onBlur:n("apodo"),value:r.apodo}),a.apodo&&(0,f.jsx)(P.default,{style:{textAlign:"center",fontSize:15,color:"red",paddingTop:10},children:a.apodo})]}),(0,f.jsx)(g.default,{style:We.selectContainer,children:(0,f.jsx)(k.SelectList,{search:!1,setSelected:function(e){return s(e)},data:u,save:"value",defaultOption:{key:"1",value:"Arquero"}})}),(0,f.jsx)(w.default,{disabled:!i,style:We.saveBtn,buttonColor:"#1B5E20",mode:"contained",onPress:o,title:"Agregar invitado"})]})}})}var We=b.default.create({avatarContainer:{alignItems:"center"},modalView:{backgroundColor:"white",borderRadius:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5,marginBottom:10,padding:10},apodoContainer:{marginBottom:10},selectContainer:{marginBottom:10},saveBtn:{width:"100%",position:"absolute",bottom:0}}),Ge=n(7294),He=n(5869);function Ue(e){var t=e.player,n=e.handleOnClick;return(0,f.jsx)(He.default,{onPress:function(){return n(t)},style:{margin:1,width:"auto"},mode:"outlined",children:t.apodo})}function Je(e){var t=e.name,n=e.team,o=e.match,r=function(e){!function(e,t,n,o){e=e.filter((function(e){return e.id!=t.id})),"Equipo 1"==o?n.team1=e:n.team2=e,n.players.push(t),Te(n)}(n,e,o,t)};return(0,f.jsx)(Ge.default,{title:t,children:(0,f.jsx)(g.default,{style:Ye.section,children:(0,f.jsx)(he.default,{horizontal:!0,children:n.map((function(e,t){return(0,f.jsx)(Ue,{onPress:function(){return r(e)},player:e,handleOnClick:r},t)}))})})})}var Ye=b.default.create({section:{flexDirection:"row"}});function Ke(e){var t=e.match;return(0,f.jsxs)(g.default,{children:[t.team1&&(0,f.jsx)(Je,{name:"Equipo 1",team:t.team1,match:t}),t.team2&&(0,f.jsx)(Je,{name:"Equipo 2",team:t.team2,match:t})]})}b.default.create({container:{padding:10,height:"100%",backgroundColor:"#fff",right:80}});function Qe(e){var t=e.match;return(0,f.jsxs)(g.default,{style:Xe.container,children:[(0,f.jsx)(g.default,{style:Xe.textContainer,children:(0,f.jsx)(P.default,{style:Xe.textStyle,children:"Informacion del partido:"})}),(0,f.jsxs)(g.default,{style:Xe.textContainer,children:[(0,f.jsx)(P.default,{style:Xe.textStyle,children:"Organizador:"}),(0,f.jsxs)(P.default,{children:[" ",t.organizador]})]}),(0,f.jsxs)(g.default,{style:Xe.textContainer,children:[(0,f.jsx)(P.default,{style:Xe.textStyle,children:"Fecha:"}),(0,f.jsxs)(P.default,{children:[" ",t.fecha]})]}),(0,f.jsxs)(g.default,{style:Xe.textContainer,children:[(0,f.jsx)(P.default,{style:Xe.textStyle,children:"Lugar:"}),(0,f.jsxs)(P.default,{children:[" ",t.lugar]})]})]})}var Xe=b.default.create({container:{paddingLeft:0,paddingBottom:20,paddingTop:20},textContainer:{flexDirection:"row",alignContent:"flex-start"},textStyle:{fontWeight:"bold",color:"#388E3C"}});function Ze(e){var t=e.match,n=e.setSelectedPlayer,o=e.setShowConfirmDialog,a=(0,r.useContext)(h).user;return(0,f.jsx)(g.default,{children:t.players.map((function(e,t){return(0,f.jsxs)(He.default,{style:$e.chip,disabled:!(e.id===a.id)&&!a.rol.includes(M.ADMIN),mode:"outlined",icon:"account",onPress:function(){return function(e){n(e),o(!0)}(e)},children:[t+1,"-",e.apodo," (",e.posicion,")"]},e.id)}))})}var $e=b.default.create({chip:{marginBottom:5}});const et=function(e){var t=e.title,n=e.text,o=e.match,r=e.player,a=e.visible,i=e.hideDialog,l=function(e,t){!function(e,t){var n=e.players.filter((function(e){if(e.id!==t)return e}));e.players=n,Te(e)}(e,t.id),i()},s=function(e,t,n){!function(e,t,n){var o=e.team1,r=!1;n!=z&&(o=e.team2),o&&!Ee(o,t.id)&&(o.push(t),r=!0),o||(e[n]=[Ie({},t)],r=!0),r&&(e.players=e.players.filter((function(e){return e.id!==t.id})),Te(e))}(e,t,n),i()};return(0,f.jsxs)(Ce.default,{visible:a,onDismiss:i,children:[(0,f.jsx)(Ce.default.Title,{children:t}),(0,f.jsx)(Ce.default.Content,{children:(0,f.jsx)(ie.default,{variant:"bodyMedium",children:n})}),(0,f.jsxs)(Ce.default.Actions,{children:[(0,f.jsx)(pe.default,{onPress:function(){return l(o,r)},children:"Eliminar"}),(0,f.jsx)(pe.default,{onPress:function(){return s(o,r,z)},children:"Equipo 1"}),(0,f.jsx)(pe.default,{onPress:function(){return s(o,r,N)},children:"Equipo 2"})]})]})};function tt(e){var t=e.match,n=e.index,o=(0,r.useContext)(h).user,a=(0,r.useState)(!1),l=(0,i.default)(a,2),s=l[0],u=l[1],c=(0,r.useState)(!1),d=(0,i.default)(c,2),p=d[0],j=d[1],y=(0,r.useState)(!1),m=(0,i.default)(y,2),x=m[0],b=m[1],O=(0,r.useState)(""),C=(0,i.default)(O,2),S=C[0],E=C[1],P=(0,r.useState)(!1),w=(0,i.default)(P,2),D=w[0],k=w[1],T=(0,r.useState)(!1),B=(0,i.default)(T,2),I=B[0],A=B[1],z=(0,r.useState)(null),N=(0,i.default)(z,2),q=N[0],R=N[1],L=function(){var e=(0,v.default)((function*(){k(!D)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,v.default)((function*(e){k(!1),Ae(t,e)}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)(g.default,{children:(0,f.jsxs)(ve.default,{style:nt.accordion,titleStyle:nt.acordeonTitle,title:t.lugar+" "+t.fecha,id:t.id+n,children:[(0,f.jsx)(Qe,{match:t}),(0,f.jsx)(be.default,{}),(0,f.jsxs)(g.default,{style:nt.playerListContainer,children:[(0,f.jsx)(ie.default,{style:nt.playerListTitle,children:"Jugadores:"}),o.rol&&o.rol.includes(M.ADMIN)&&(0,f.jsx)(te.default,{style:nt.addGuestIconButton,icon:"account-question",iconColor:"#1B5E20",size:20,mode:"contained-tonal",onPress:function(){return A(!I)}}),o.rol&&o.rol.includes(M.ADMIN)&&(0,f.jsx)(te.default,{style:nt.addPlayersToMatchIconButton,icon:"account-multiple-plus",iconColor:"#1B5E20",size:20,mode:"contained-tonal",onPress:function(){return L(t)}}),(0,f.jsx)(te.default,{style:nt.addMeToMatchIconButton,icon:"account-plus",iconColor:"#1B5E20",size:20,mode:"contained-tonal",onPress:function(){return Ae(t,o)}}),D?(0,f.jsx)(Le,{addPlayerToMatch:_,match:t}):null]}),I&&(0,f.jsx)(Ve,{match:t,closeGuestModalEvent:function(){A(!1)}}),(0,f.jsx)(Ze,{match:t,setSelectedPlayer:R,setShowConfirmDialog:b}),(0,f.jsx)(be.default,{}),(0,f.jsx)(Ke,{match:t}),o.rol&&o.rol.includes(M.ADMIN)&&(0,f.jsx)(Oe.default,{style:nt.segmentButton,value:S,onValueChange:E,buttons:[{onPress:function(){return u(!0)},icon:"delete-outline",value:"cancel",label:"Cancelar partido"},{onPress:function(){return j(!0)},icon:"check-outline",value:"finish",label:"Finalizar partido"}]}),p&&(0,f.jsx)(Ne,{title:"Finalizar partido",text:"\xbfQuien gano?",hideDialog:function(){return j(!1)},visible:p,match:t}),s&&(0,f.jsx)(Re,{title:"Cancelar partido",text:"Estas seguro que queres cancelar el partido?",visible:s,hideDialog:function(){return u(!1)},match:t}),q&&(0,f.jsx)(et,{title:"Confirmar accion",hideDialog:function(){R(null),b(!1)},visible:x,match:t,player:q})]})},t.id)}var nt=b.default.create({accordion:{backgroundColor:"#ece6f3",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,marginBottom:5,marginTop:5},acordeonTitle:{fontWeight:"bold"},playerListContainer:{flexDirection:"row"},playerListTitle:{alignSelf:"center",paddingVertical:20,fontWeight:"bold",color:"#388E3C"},addMeToMatchIconButton:{position:"absolute",end:0,top:5},addPlayersToMatchIconButton:{position:"absolute",end:50,top:5},addGuestIconButton:{position:"absolute",end:100,top:5},segmentButton:{marginTop:20}}),ot=n(4152),rt=n(2966);function at(e){var t=(0,r.useState)(!1),n=(0,i.default)(t,2),o=n[0],a=n[1],l=(0,r.useState)(void 0),s=(0,i.default)(l,2),u=s[0],c=s[1],d=(0,r.useState)(!1),h=(0,i.default)(d,2),p=h[0],j=h[1],y=(0,r.useCallback)((function(){a(!1)}),[a]),m=(0,r.useCallback)((function(t){var n=t.hours,o=t.minutes;a(!1),e.hourEvent(n+":"+o)}),[a]),x=(0,r.useCallback)((function(){j(!1)}),[j]),v=(0,r.useCallback)((function(t){j(!1),e.dateEvent(t.date)}),[j,c]);return(0,f.jsx)(g.default,{style:it.iconDateContainer,children:(0,f.jsxs)(ot.SafeAreaProvider,{children:[(0,f.jsxs)(g.default,{style:it.dateButtons,children:[(0,f.jsx)(pe.default,{textColor:"#1B5E20",icon:"calendar-blank",mode:"outlined",onPress:function(){return j(!0)},children:"Fecha"}),(0,f.jsx)(rt.DatePickerModal,{locale:"en",mode:"single",visible:p,onDismiss:x,date:u,onConfirm:v})]}),(0,f.jsxs)(g.default,{style:it.dateButtons,children:[(0,f.jsx)(pe.default,{textColor:"#1B5E20",icon:"clock-outline",mode:"outlined",onPress:function(){return a(!0)},children:"Hora"}),(0,f.jsx)(rt.TimePickerModal,{visible:o,onDismiss:y,onConfirm:m,hours:12,minutes:14})]})]})})}(0,rt.registerTranslation)("en",rt.en);var it=b.default.create({iconDateContainer:{flexDirection:"row"},dateButtons:{paddingTop:20,paddingHorizontal:5}});function lt(){var e=(0,r.useContext)(h),t=e.user,n=(e._,e.players,e.setPlayers,(0,r.useState)([])),o=(0,i.default)(n,2),s=o[0],u=o[1],c=(0,r.useState)(!1),p=(0,i.default)(c,2),j=p[0],y=p[1],m=(0,r.useState)(void 0),x=(0,i.default)(m,2),b=x[0],O=x[1],C=(0,r.useState)("19:00"),S=(0,i.default)(C,2),E=S[0],P=S[1];(0,r.useEffect)((function(){w()}),[]);var w=function(){var e=(0,v.default)((function*(){var e=(0,l.collection)(d,"matches");(0,l.onSnapshot)(e,(function(e){u([]),e.forEach((function(e){"pendiente"===e.data().status&&u((function(t){return[].concat((0,a.default)(t),[e.data()])}))}))}))}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,v.default)((function*(e){var n=me()(b).format("DD-MM-YYYY")+" "+E+"hs",o=t.id+"-"+e.lugar+"-"+n;yield(0,l.setDoc)((0,l.doc)(d,"matches",o),{id:o,fecha:n,lugar:e.lugar,organizador:t.apodo,status:"pendiente",players:[]}),y(!1)}));return function(t){return e.apply(this,arguments)}}();function T(e){O(e)}function B(e){P(e)}return(0,f.jsx)(g.default,{style:st.container,children:j?(0,f.jsx)(g.default,{style:st.formikContainer,children:(0,f.jsx)(A.Formik,{validationSchema:xe,style:st.formik,initialValues:{lugar:""},onSubmit:function(e){return k(e)},children:function(e){var t=e.handleChange,n=e.handleBlur,o=e.handleSubmit,r=e.values,a=e.errors;return(0,f.jsxs)(g.default,{style:st.card,children:[(0,f.jsx)(D.default,{mode:"outlined",label:"Lugar",onChangeText:t("lugar"),onBlur:n("lugar"),value:r.lugar}),a.lugar&&(0,f.jsx)(ie.default,{style:{textAlign:"center",fontSize:15,color:"red",paddingTop:10},children:a.lugar}),(0,f.jsx)(g.default,{style:st.iconDateContainer,children:(0,f.jsx)(at,{dateEvent:T,hourEvent:B})}),(0,f.jsx)(pe.default,{style:st.saveBtn,buttonColor:"#1B5E20",mode:"contained",onPress:o,children:"Guardar"})]})}})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(he.default,{children:(0,f.jsx)(ge.default,{children:s.map((function(e,t){return(0,f.jsx)(fe.default,{children:(0,f.jsx)(tt,{match:e,index:t},e.id)},e.id)}))})}),t.rol&&t.rol.includes(M.ADMIN)&&(0,f.jsx)(je.default,{icon:"plus",style:st.fab,onPress:function(){y(!0)}})]})})}var st=b.default.create({formik:{height:"100%"},container:{padding:10,height:"100%",flex:1,backgroundColor:"#fff"},formikContainer:{height:"100%"},fab:{position:"absolute",margin:16,right:0,bottom:0},card:{height:"100%"},saveBtn:{width:"100%",position:"absolute",bottom:0}});function ut(){return(0,f.jsxs)(g.default,{style:ct.container,children:[(0,f.jsx)(P.default,{children:"Proximamente!!!"}),(0,f.jsx)(O.default,{style:"auto"})]})}var ct=b.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function dt(){return(0,f.jsxs)(g.default,{style:ft.container,children:[(0,f.jsx)(P.default,{children:"Proximamente!!!"}),(0,f.jsx)(O.default,{style:"auto"})]})}var ft=b.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}}),ht=n(893);function pt(){var e=(0,r.useState)(0),t=(0,i.default)(e,2),n=t[0],o=t[1],a=(0,r.useState)([{key:"players",title:"Jugadores",focusedIcon:"account",unfocusedIcon:"account-outline"},{key:"matches",title:"Partidos",focusedIcon:"soccer-field"},{key:"statistics",title:"Estadisticas",focusedIcon:"star",unfocusedIcon:"star-outline"},{key:"notifications",title:"Notificaciones",focusedIcon:"bell",unfocusedIcon:"bell-outline"}]),l=(0,i.default)(a,1)[0],s=oe.default.SceneMap({players:function(){return(0,f.jsx)(ce,{})},matches:function(){return(0,f.jsx)(lt,{})},statistics:function(){return(0,f.jsx)(ut,{})},notifications:function(){return(0,f.jsx)(dt,{})}});return(0,f.jsx)(g.default,{style:gt.container,children:(0,f.jsx)(ne.default,{source:ht,style:gt.image,children:(0,f.jsx)(oe.default,{navigationState:{index:n,routes:l},onIndexChange:o,renderScene:s,barStyle:gt.bottomNavigation})})})}var gt=b.default.create({container:{flex:1},image:{flex:1,resizeMode:"cover",justifyContent:"center"},bottomNavigation:{backgroundColor:"#E8F5E9"}}),jt=q.POOL;function yt(e){!function(e){(0,l.setDoc)((0,l.doc)(d,jt,Date.now().toString()),{pool:e})}(e)}function mt(){var e=(0,r.useContext)(h).user,t=(0,r.useState)(""),n=(0,i.default)(t,2),o=n[0],a=n[1],s=(0,r.useState)(!1),u=(0,i.default)(s,2),c=u[0],p=u[1];(0,r.useEffect)((function(){var e=(0,l.collection)(d,q.POOL);(0,l.onSnapshot)(e,(function(e){e.forEach((function(e){a(e.data().pool)}))}))}),[]);return(0,f.jsxs)(P.default,{style:xt.pool,children:[c&&e.rol&&e.rol.includes(M.TESORERO)&&(0,f.jsx)(te.default,{style:xt.addGuestIconButton,icon:"content-save",iconColor:"#1B5E20",size:20,onPress:function(){return function(e){yt(e),p(!1)}(o)}}),!c&&e.rol&&e.rol.includes(M.TESORERO)&&(0,f.jsx)(te.default,{icon:"pencil",iconColor:"#1B5E20",size:20,onPress:function(){return p(!0)}}),"Pozo: ",(0,f.jsx)(D.default,{value:o,mode:"outlined",inputMode:"numeric",style:xt.input,contentStyle:{paddingHorizontal:-10},outlineStyle:{borderWidth:0,padding:0},onChangeText:function(e){return a(e)},disabled:!c})]})}var xt=b.default.create({pool:{fontSize:20,marginLeft:10}}),vt=(0,x.default)();function bt(){var e=(0,r.useContext)(h),t=(e.user,e.setUser),n=function(){var e=(0,v.default)((function*(){try{m.default.removeItem("@user"),t(null)}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return(0,f.jsx)(vt.Navigator,{screenOptions:{title:"",headerRightContainerStyle:Ot.headerRight,headerStyle:{},headerLeft:function(){return(0,f.jsx)(mt,{})},headerRight:function(){return(0,f.jsx)(te.default,{iconColor:"#1B5E20",icon:"logout",size:30,onPress:n})}},children:(0,f.jsx)(vt.Screen,{name:"Home",component:pt})})}var Ot=b.default.create({headerRight:{paddingRight:20}});function Ct(){var e=(0,r.useState)(!0),t=(0,i.default)(e,2),n=t[0],o=t[1],a=(0,r.useContext)(h),l=a.user,s=a.setUser;return(0,r.useEffect)((function(){l||m.default.getItem("@user").then((function(e){e&&(s(JSON.parse(e)),o(!1)),o(!1)})),o(!1)}),[l]),n?(0,f.jsx)(g.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,f.jsx)(j.default,{size:"small",color:"#1B5E20"})}):(0,f.jsx)(y.default,{children:l?(0,f.jsx)(bt,{}):(0,f.jsx)(ee,{})})}(0,o.default)((function(){return(0,f.jsx)(p,{children:(0,f.jsx)(Ct,{})})}))},893:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/background.5c91ccee8725ee58a592.jpeg"},4654:()=>{}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var i=1/0;for(c=0;c<e.length;c++){for(var[o,r,a]=e[c],l=!0,s=0;s<o.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&o;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>o[e]));return i.default=()=>o,n.d(a,i),a}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[i,l,s]=o,u=0;if(i.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var c=s(n)}for(t&&t(o);u<i.length;u++)a=i[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[592],(()=>n(2571)));o=n.O(o)})();
//# sourceMappingURL=main.4802c705.js.map