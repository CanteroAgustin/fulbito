(()=>{var e={3618:(e,t,r)=>{"use strict";r.r(t);var n=r(3697),o=r(8799),a=r(9439),l=r(5219),i=(0,o.createContext)({}),u=function(e){var t=e.children,r=(0,o.useState)(null),n=(0,a.default)(r,2),u=n[0],s=n[1];return(0,l.jsx)(i.Provider,{value:{user:u,setUser:s},children:t})},s=r(6317),d=r(2144),c=r(9412),f=r(6898),p=r(1105),h=r(3433),g=r(4942),j=r(5861),b=r(4497),v=r(324),y=r(7735),m=r(8968),x=r(1214),O=r(1951),w=r(1899),S=r(2105),C=r(3905),P=r(4849),k=r(9949),I=r(7485),q=r(8132),N=r(9750),_=r(4577),A=r(1430),D=r(3866),R=r(7659),E=r(6478),F=r(1593),z=r(2091),T=(0,F.initializeApp)({apiKey:"AIzaSyC4NNoc_wO57-CxRdo5f5bqF8p8DLwCA9E",authDomain:"fulbitosecla.firebaseapp.com",projectId:"fulbitosecla",storageBucket:"fulbitosecla.appspot.com",messagingSenderId:"535761942486",appId:"1:535761942486:web:5cf544781380d70b869677"}),J=(0,E.getFirestore)(T);(0,z.getAuth)(T),new z.GoogleAuthProvider;function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,g.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}O.maybeCompleteAuthSession();var U=D.object({apodo:D.string().required()}).required();function L(){var e=(0,o.useContext)(i),t=(e.user,e.setUser),r=(0,o.useState)(!1),n=(0,a.default)(r,2),u=n[0],d=n[1],c=(0,o.useState)(null),p=(0,a.default)(c,2),g=p[0],b=p[1],O=(0,o.useState)(""),D=(0,a.default)(O,2),F=D[0],z=D[1],T=(0,m.useForm)({resolver:(0,R.yupResolver)(U)}),M=T.control,L=T.handleSubmit,W=(T.formState.errors,function(e){z(e.target.value)}),G=w.useAuthRequest({androidClientId:"535761942486-oas8lvtva2m7j08qb5nhq0n1uk97kh1j.apps.googleusercontent.com",iosClientId:"535761942486-7amoqiclcntblbsu68i5dlk79s2fhlqt.apps.googleusercontent.com",webClientId:"535761942486-lip9sci1vcah62g0fpj41lv29nioqqnl.apps.googleusercontent.com"}),H=(0,a.default)(G,3),K=H[0],Q=H[1],X=H[2];function Y(){return(Y=(0,j.default)((function*(){"success"===(null==Q?void 0:Q.type)&&(yield Z(Q.authentication.accessToken))}))).apply(this,arguments)}(0,o.useEffect)((function(){!function(){Y.apply(this,arguments)}()}),[Q]);var Z=function(){var e=(0,j.default)((function*(e){if(e)try{var r=yield fetch("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer "+e}}),n=yield r.json();b(n);var o=(0,E.doc)(J,"usuarios",n.id),a=yield(0,E.getDoc)(o);a.exists()?(t(a.data()),f.default.setItem("@user",JSON.stringify(a.data()))):d(!0)}catch(l){}}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,j.default)((function*(e){yield(0,E.setDoc)((0,E.doc)(J,"usuarios",g.id),B(B({},g),{},{apodo:e.apodo,posicion:F}));(0,E.onSnapshot)((0,E.doc)(J,"usuarios",g.id),(function(e){t(B({},e.data())),f.default.setItem("@user",JSON.stringify.apply(JSON,(0,h.default)(docSnap.data())))}))}));return function(t){return e.apply(this,arguments)}}();return(0,l.jsxs)(s.default,{style:V.container,children:[!u&&(0,l.jsx)(S.default.Button,{disabled:!K,name:"google",backgroundColor:"#4285F4",style:{fontFamily:"Roboto"},onPress:function(){X()},children:"Login with Google"}),u&&(0,l.jsx)(s.default,{style:V.centeredView,children:(0,l.jsxs)(s.default,{style:V.modalView,children:[g&&(0,l.jsx)(y.default,{size:100,src:g.picture}),(0,l.jsx)(v.default,{style:V.text,children:"Completa tu perfil de jugador."}),(0,l.jsx)("form",{style:{height:"100%"},onSubmit:L((function(e){$(e)})),children:(0,l.jsxs)(C.default,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[(0,l.jsx)(P.default,{children:(0,l.jsx)(m.Controller,{name:"apodo",control:M,render:function(e){var t=e.field;return(0,l.jsx)(k.default,B(B({},t),{},{id:"outlined-basic",label:"Apodo",variant:"outlined"}))}})}),(0,l.jsx)(P.default,{children:(0,l.jsx)(m.Controller,{name:"select",control:M,render:function(e){var t=e.field;return(0,l.jsxs)(I.default,{required:!0,sx:{minWidth:"100%"},children:[(0,l.jsx)(q.default,{id:"demo-controlled-open-select-label",children:"Posicion"}),(0,l.jsxs)(N.default,B(B({},t),{},{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",value:F,label:"Posicion *",onChange:W,children:[(0,l.jsx)(_.default,{value:"",children:(0,l.jsx)("em",{children:"None"})}),(0,l.jsx)(_.default,{value:"arquero",children:"Arquero"}),(0,l.jsx)(_.default,{value:"defensor",children:"Defensor"}),(0,l.jsx)(_.default,{value:"medio",children:"Medio"}),(0,l.jsx)(_.default,{value:"delantero",children:"Delantero"})]}))]})}})}),(0,l.jsx)(P.default,{children:(0,l.jsx)(A.default,{type:"submit",variant:"contained",sx:{minWidth:"100%"},children:"Finalizar"})})]})})]})}),(0,l.jsx)(x.default,{style:"auto"})]})}var V=b.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},modalView:{margin:20,height:500,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},image:{marginTop:150,marginBottom:10,width:"100%",height:350}}),W=(0,p.default)();function G(){return(0,l.jsx)(W.Navigator,{children:(0,l.jsx)(W.Screen,{name:"Login",component:L,options:{headerShown:!1}})})}var H=r(3478);function K(){var e=(0,o.useContext)(i),t=e.user,r=e.setUser,n=function(){var e=(0,j.default)((function*(){try{f.default.removeItem("@user"),r(null)}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)(s.default,{style:Q.container,children:[(0,l.jsx)(v.default,{children:JSON.stringify(t,null,2)}),(0,l.jsx)(H.default,{onPress:n,title:"Salir"})]})}var Q=b.default.create({container:{flex:1,backgroundColor:"#e8eaf6"}}),X=(0,p.default)();function Y(){return(0,l.jsx)(X.Navigator,{children:(0,l.jsx)(X.Screen,{name:"Home",component:K})})}b.default.create({headerRight:{paddingRight:30}});function Z(){var e=(0,o.useState)(!0),t=(0,a.default)(e,2),r=t[0],n=t[1],u=(0,o.useContext)(i),p=u.user,h=u.setUser;return(0,o.useEffect)((function(){p||f.default.getItem("@user").then((function(e){e&&(h(JSON.parse(e)),n(!1)),n(!1)})),n(!1)}),[p]),r?(0,l.jsx)(s.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(d.default,{size:"small",color:"#0000ff"})}):(0,l.jsx)(c.default,{children:p?(0,l.jsx)(Y,{}):(0,l.jsx)(G,{})})}(0,n.default)((function(){return(0,l.jsx)(u,{children:(0,l.jsx)(Z,{})})}))},4654:()=>{}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,a)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,o,a]=e[d],i=!0,u=0;u<n.length;u++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(i=!1,a<l&&(l=a));if(i){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,o,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,r.d(a,l),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[l,i,u]=n,s=0;if(l.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var d=u(r)}for(t&&t(n);s<l.length;s++)a=l[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[485],(()=>r(3618)));n=r.O(n)})();
//# sourceMappingURL=main.bf7f7c0f.js.map