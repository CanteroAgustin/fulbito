(()=>{var e={2393:(e,t,n)=>{"use strict";n.r(t);var o=n(5629),a=n(9526),r=n(3433),i=n(9439),l=n(1402),s=n(1844),u=n(4886),c=(0,s.initializeApp)({apiKey:"AIzaSyC4NNoc_wO57-CxRdo5f5bqF8p8DLwCA9E",authDomain:"fulbitosecla.firebaseapp.com",projectId:"fulbitosecla",storageBucket:"fulbitosecla.appspot.com",messagingSenderId:"535761942486",appId:"1:535761942486:web:5cf544781380d70b869677"}),d=(0,l.initializeFirestore)(c,{experimentalForceLongPolling:!0}),f=((0,u.getAuth)(c),new u.GoogleAuthProvider,n(7557)),p=(0,a.createContext)({}),h=function(e){var t=e.children,n=(0,a.useState)(null),o=(0,i.default)(n,2),s=o[0],u=o[1],c=(0,a.useState)([]),h=(0,i.default)(c,2),g=h[0],m=h[1];return(0,a.useEffect)((function(){var e=(0,l.collection)(d,"usuarios");(0,l.onSnapshot)(e,(function(e){m([]),e.forEach((function(e){m((function(t){return[].concat((0,r.default)(t),[e.data()])}))}))}))}),[]),(0,f.jsx)(p.Provider,{value:{user:s,setUser:u,players:g,setPlayers:m},children:t})},g=n(1133),m=n(6032),j=n(3535),y=n(5519),x=n(8423),v=n(5861),b=n(4333),O=n(3292),C=n(4560),S=n(7083),E=n(9317),P=n(9233),w=n(1553),D=n(3122),k=n(5609),B=n(3987),T=n(1707);const I=T.object().shape({apodo:T.string().required("El nombre no puede quedar vacio!!!")});var A=n(5335),M={ADMIN:"admin",TESORERO:"tesorero"},z="team1",N="team2",R={MATCHES:"matches",PLAYERS:"usuarios",POOL:"pool"},q={TEAM_ONE:"1",TEAM_TWO:"2",TIE:"0"},L={ONE:1,THREE:3},F={ONE:1},_=n(4942);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,_.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=R.PLAYERS;function W(e){(0,l.setDoc)((0,l.doc)(d,G,e.id),U({},e))}function H(e,t,n){e.forEach((function(e){n.forEach((function(n){e.id===n.id&&(n.estadisticas.jugados+=F.ONE,n.estadisticas.puntos+=t,t===L.THREE?n.estadisticas.ganados+=F.ONE:n.estadisticas.empatados+=F.ONE,W(n))}))}))}function J(e,t){e.forEach((function(e){t.forEach((function(t){e.id===t.id&&(t.estadisticas.perdidos+=F.ONE,t.estadisticas.jugados+=F.ONE,W(t))}))}))}function Y(e,t,n){!function(e,t,n){(0,l.setDoc)((0,l.doc)(d,"usuarios",e.id),U(U({},e),{},{apodo:n,status:"ACTIVE",estadisticas:{ganados:0,empatados:0,perdidos:0,jugados:0,puntos:0},rol:[],posicion:t}))}(e,t,n)}function K(e){var t=e.tempUser,n=(0,a.useContext)(p),o=(n._,n.setUser),r=(0,a.useState)("Arquero"),s=(0,i.default)(r,2),u=s[0],c=s[1],h=[{key:"1",value:"Arquero"},{key:"2",value:"Defensor"},{key:"3",value:"Medio"},{key:"4",value:"Delantero"}],m=function(){var e=(0,v.default)((function*(e){Y(t,1!=u?u:"Arquero",e.apodo),(0,l.onSnapshot)((0,l.doc)(d,"usuarios",t.id),(function(e){o(e.data()),y.default.setItem("@user",JSON.stringify(e.data()))}))}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)(A.Formik,{initialValues:{apodo:""},validationSchema:I,onSubmit:function(e){m(e)},children:function(e){var n=e.handleChange,o=e.handleBlur,a=e.handleSubmit,r=e.values,i=e.errors,l=e.isValid;return(0,f.jsxs)(g.default,{style:Q.modalView,children:[(0,f.jsxs)(g.default,{style:Q.avatarContainer,children:[t&&(0,f.jsx)(B.default,{size:100,src:t.picture}),(0,f.jsx)(P.default,{style:Q.text,children:"Completa tu perfil de jugador."})]}),(0,f.jsxs)(g.default,{style:Q.apodoContainer,children:[(0,f.jsx)(D.default,{mode:"outlined",label:"Nombre",onChangeText:n("apodo"),onBlur:o("apodo"),value:r.apodo}),i.apodo&&(0,f.jsx)(P.default,{style:{textAlign:"center",fontSize:15,color:"red",paddingTop:10},children:i.apodo})]}),(0,f.jsx)(g.default,{style:Q.selectContainer,children:(0,f.jsx)(k.SelectList,{search:!1,setSelected:function(e){return c(e)},data:h,save:"value",defaultOption:{key:"1",value:"Arquero"}})}),(0,f.jsx)(w.default,{disabled:!l,style:Q.saveBtn,buttonColor:"#1B5E20",mode:"contained",onPress:a,title:"Guardar"})]})}})}var Q=b.default.create({avatarContainer:{alignItems:"center"},modalView:{backgroundColor:"white",borderRadius:20,padding:50,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},apodoContainer:{marginBottom:10},selectContainer:{marginBottom:10},saveBtn:{width:"100%",position:"absolute",bottom:0}});function X(){var e=(0,a.useContext)(p),t=(e.user,e.setUser),n=(0,a.useState)(!1),o=(0,i.default)(n,2),r=o[0],s=o[1],u=(0,a.useState)(null),c=(0,i.default)(u,2),h=c[0],m=c[1],j=S.useAuthRequest({androidClientId:"535761942486-oas8lvtva2m7j08qb5nhq0n1uk97kh1j.apps.googleusercontent.com",iosClientId:"535761942486-7amoqiclcntblbsu68i5dlk79s2fhlqt.apps.googleusercontent.com",webClientId:"535761942486-lip9sci1vcah62g0fpj41lv29nioqqnl.apps.googleusercontent.com"}),x=(0,i.default)(j,3),b=x[0],C=x[1],P=x[2];function w(){return(w=(0,v.default)((function*(){"success"===(null==C?void 0:C.type)&&(console.log("response success from google"),yield D(C.authentication.accessToken))}))).apply(this,arguments)}(0,a.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[C]);var D=function(){var e=(0,v.default)((function*(e){if(e){var n=yield fetch("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer "+e}}),o=yield n.json();m(o);var a=(0,l.doc)(d,"usuarios",o.id),r=yield(0,l.getDoc)(a);r.exists()?(t(r.data()),y.default.setItem("@user",JSON.stringify(r.data()))):s(!0)}}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)(g.default,{style:Z.container,children:[!r&&(0,f.jsx)(E.default.Button,{disabled:!b,name:"google",backgroundColor:"#4285F4",style:{fontFamily:"Roboto"},onPress:function(){P()},children:"Login with Google"}),r&&(0,f.jsx)(K,{tempUser:h}),(0,f.jsx)(O.default,{style:"auto"})]})}C.maybeCompleteAuthSession();var Z=b.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}}),$=(0,x.default)();function ee(){return(0,f.jsx)($.Navigator,{children:(0,f.jsx)($.Screen,{name:"Login",component:X,options:{headerShown:!1}})})}var te=n(6458),ne=n(1787),oe=n(1054),ae=n(2452),re=n(9570),ie=n(3665),le=n(5899),se=n(2869);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,_.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=(0,a.useContext)(p).players;return(0,f.jsx)(g.default,{style:fe.container,children:(0,f.jsx)(ae.default,{children:t.map((function(t){var n,o,a,r,i;return(0,f.jsxs)(re.default,{style:fe.surface,elevation:4,children:[(0,f.jsx)(ie.default,ce(ce({style:fe.avatar},e),{},{size:48,source:{uri:null==t?void 0:t.picture}})),(0,f.jsxs)(g.default,{style:fe.cardContainer,children:[(0,f.jsxs)(le.default,{style:fe.textApodo,children:[null==t?void 0:t.apodo," - ",null==t?void 0:t.posicion]}),(0,f.jsxs)(g.default,{style:fe.badgesContainer,children:[(0,f.jsxs)(se.default,{size:25,style:fe.badge,children:["J: ",null==t||null==(n=t.estadisticas)?void 0:n.jugados]}),(0,f.jsxs)(se.default,{size:25,style:fe.badge,children:["G: ",null==t||null==(o=t.estadisticas)?void 0:o.ganados]}),(0,f.jsxs)(se.default,{size:25,style:fe.badge,children:["E: ",null==t||null==(a=t.estadisticas)?void 0:a.empatados]}),(0,f.jsxs)(se.default,{size:25,style:fe.badge,children:["P: ",null==t||null==(r=t.estadisticas)?void 0:r.perdidos]})]})]}),(0,f.jsxs)(se.default,{size:25,style:fe.badgePuntos,children:["Puntos: ",null==t||null==(i=t.estadisticas)?void 0:i.puntos]})]},null==t?void 0:t.id)}))})})}var fe=b.default.create({container:{flex:1,backgroundColor:"#fff"},surfaceWeb:{display:"flex",flexDirection:"row",alignSelf:"center",padding:8,alignItems:"center",borderRadius:10,margin:5,minWidth:500,maxWidth:700},surface:{display:"flex",flexDirection:"row",padding:8,alignItems:"center",borderRadius:10,margin:5},avatar:{alignSelf:"flex-start"},textApodo:{margin:2,fontWeight:"500"},cardContainer:{marginLeft:10},badgesContainer:{display:"flex",flexDirection:"row"},badgePuntos:{alignSelf:"center",marginLeft:"auto",backgroundColor:"#1B5E20"},badge:{margin:1,backgroundColor:"#A5D6A7"}}),pe=n(477),he=n(7394),ge=n(529),me=n(684),je=n(7322),ye=n.n(je);const xe=T.object().shape({lugar:T.string().required("El lugar no puede quedar vacio!!!")});var ve=n(3486),be=n(6770),Oe=n(853),Ce=n(1959),Se=function(e,t){var n=[];return e.forEach((function(e){Ee(t,e)||n.push({key:e.id,value:e.apodo})})),n},Ee=function(e,t){var n=!1;return e.players.some((function(e){e.apodo===t.apodo&&(n=!0)})),e.team1&&e.team1.some((function(e){e.apodo===t.apodo&&(n=!0)})),e.team2&&e.team2.some((function(e){e.apodo===t.apodo&&(n=!0)})),n};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,_.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=R.MATCHES;function ke(e){(0,l.setDoc)((0,l.doc)(d,De,e.id),we({},e))}var Be=function(e){var t="\u26bd "+e.lugar+" "+e.fecha,n="\ud83d\udc55 Equipo1: "+JSON.stringify(e.team1.map((function(e){return e.apodo}))),o="\ud83c\udfbd Equipo2: "+JSON.stringify(e.team2.map((function(e){return e.apodo})));return encodeURIComponent(t+"\r\n"+n+"\r\n"+o)},Te=function(e,t){var n=t.apodo+" se acaba de sumar al partido \ud83d\udcaa",o="\u26bd "+e.lugar+" "+e.fecha,a="Jugadores: "+JSON.stringify(e.players.map((function(e){return e.apodo})));return encodeURIComponent(n+"\r\n"+o+"\r\n"+a)},Ie=function(e,t,n){var o=n.apodo+" acaba de armar partido, sumate https://fulbitosecla.web.app/";return encodeURIComponent(o+"\r\n"+("\u26bd "+e+" "+t))},Ae=n(7301),Me=function(e){Ae.default.openURL("whatsapp://send?text="+e)};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,_.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t){Ee(e,t)||(e.players.push(t),ke(e),Me(Te(e,t)))}function qe(e,t,n){e.status="terminado",function(e,t){(0,l.setDoc)((0,l.doc)(d,"matches",e.id),we(we({},e),{},{win:t}))}(e,t),function(e,t,n){switch(t){case q.TEAM_ONE:H(e.team1,L.THREE,n),J(e.team2,n);break;case q.TEAM_TWO:H(e.team2,L.THREE,n),J(e.team1,n);break;case q.TIE:H(e.team1.concat(e.team2,L.ONE),L.ONE,n);break;default:console.log("error")}}(e,t,n),Me(function(e,t){var n="\u26bd Termino el partido "+e.lugar+" "+e.fecha;return encodeURIComponent(n+"\r\n\ud83c\udfc6 Ganador: "+t)}(e,t))}var Le=b.default.create({finishDialogText:{alignSelf:"center",fontWeight:"bold",paddingBottom:20,fontSize:20,color:"#388E3C"}});const Fe=function(e){var t=e.title,n=e.text,o=e.match,r=e.visible,l=e.hideDialog,s=(0,a.useContext)(p).players,u=(0,a.useState)("checked"),c=(0,i.default)(u,2),d=c[0],h=c[1];return(0,f.jsxs)(Ce.default,{visible:r,onDismiss:l,children:[(0,f.jsx)(Ce.default.Title,{children:t}),(0,f.jsx)(le.default,{style:Le.finishDialogText,children:n}),(0,f.jsx)(Ce.default.Content,{children:(0,f.jsx)(Oe.default,{value:d,onValueChange:h,buttons:[{value:"1",label:"Equipo 1"},{value:"0",label:"Empate"},{value:"2",label:"Equipo 2"}]})}),(0,f.jsxs)(Ce.default.Actions,{children:[(0,f.jsx)(he.default,{onPress:function(){return qe(o,d,s)},children:"Finalizar"}),(0,f.jsx)(he.default,{onPress:l,children:"Cancelar"})]})]})};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Ve=function(e){var t=e.title,n=e.text,o=e.match,a=e.visible,r=e.hideDialog,i=function(){var e=(0,v.default)((function*(e){e.status="cancelado",yield(0,l.setDoc)((0,l.doc)(d,"matches",e.id),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,_.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)(Ce.default,{visible:a,onDismiss:r,children:[(0,f.jsx)(Ce.default.Title,{children:t}),(0,f.jsx)(Ce.default.Content,{children:(0,f.jsx)(le.default,{variant:"bodyMedium",children:n})}),(0,f.jsxs)(Ce.default.Actions,{children:[(0,f.jsx)(he.default,{onPress:function(){return i(o)},children:"Si"}),(0,f.jsx)(he.default,{onPress:r,children:"No"})]})]})};function Ue(e){var t=e.addPlayerToMatch,n=e.match,o=(0,a.useContext)(p).players,r=Se(o,n);return(0,f.jsx)(g.default,{style:Ge.container,children:(0,f.jsx)(k.SelectList,{placeholder:"Seleccione jugador",search:!1,setSelected:function(e){return t((n=e,o.find((function(e){return e.apodo===n}))));var n},data:r,save:"value"})})}var Ge=b.default.create({container:{padding:10,height:"100%",backgroundColor:"#fff",right:80}}),We=n(7385);function He(e){var t=e.match,n=e.closeGuestModalEvent,o=(0,a.useState)("Arquero"),r=(0,i.default)(o,2),l=r[0],s=r[1],u=[{key:"1",value:"Arquero"},{key:"2",value:"Defensor"},{key:"3",value:"Medio"},{key:"4",value:"Delantero"}];return(0,f.jsx)(A.Formik,{initialValues:{apodo:""},validationSchema:I,onSubmit:function(e){var o={apodo:"",posicion:"",rol:""},a=1!=l?l:"Arquero";o.id=We.default.v4(),o.apodo=e.apodo,o.posicion=a,o.rol=["invitado"],Re(t,o),Me(Te(t,o)),n()},children:function(e){var t=e.handleChange,n=e.handleBlur,o=e.handleSubmit,a=e.values,r=e.errors,i=e.isValid;return(0,f.jsxs)(g.default,{style:Je.modalView,children:[(0,f.jsxs)(g.default,{style:Je.apodoContainer,children:[(0,f.jsx)(D.default,{mode:"outlined",label:"Nombre",onChangeText:t("apodo"),onBlur:n("apodo"),value:a.apodo}),r.apodo&&(0,f.jsx)(P.default,{style:{textAlign:"center",fontSize:15,color:"red",paddingTop:10},children:r.apodo})]}),(0,f.jsx)(g.default,{style:Je.selectContainer,children:(0,f.jsx)(k.SelectList,{search:!1,setSelected:function(e){return s(e)},data:u,save:"value",defaultOption:{key:"1",value:"Arquero"}})}),(0,f.jsx)(w.default,{disabled:!i,style:Je.saveBtn,buttonColor:"#1B5E20",mode:"contained",onPress:o,title:"Agregar invitado"})]})}})}var Je=b.default.create({avatarContainer:{alignItems:"center"},modalView:{backgroundColor:"white",borderRadius:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5,marginBottom:10,padding:10},apodoContainer:{marginBottom:10},selectContainer:{marginBottom:10},saveBtn:{width:"100%",position:"absolute",bottom:0}}),Ye=n(7294),Ke=n(5869);function Qe(e){var t=e.player,n=e.handleOnClick;return(0,f.jsx)(Ke.default,{onPress:function(){return n(t)},style:{margin:1,width:"auto"},mode:"outlined",children:t.apodo})}function Xe(e){var t=e.name,n=e.team,o=e.match,a=function(e){!function(e,t,n,o){e=e.filter((function(e){return e.id!=t.id})),"Equipo 1"==o?n.team1=e:n.team2=e,n.players.push(t),ke(n)}(n,e,o,t)};return(0,f.jsx)(Ye.default,{title:t,children:(0,f.jsx)(g.default,{style:Ze.section,children:(0,f.jsx)(ae.default,{horizontal:!0,children:n.map((function(e,t){return(0,f.jsx)(Qe,{onPress:function(){return a(e)},player:e,handleOnClick:a},t)}))})})})}var Ze=b.default.create({section:{flexDirection:"row"}});function $e(e){var t=e.match;return(0,f.jsxs)(g.default,{children:[t.team1&&(0,f.jsx)(Xe,{name:"Equipo 1",team:t.team1,match:t}),t.team2&&(0,f.jsx)(Xe,{name:"Equipo 2",team:t.team2,match:t})]})}b.default.create({container:{padding:10,height:"100%",backgroundColor:"#fff",right:80}});function et(e){var t=e.match;return(0,f.jsxs)(g.default,{style:tt.container,children:[(0,f.jsx)(g.default,{style:tt.textContainer,children:(0,f.jsx)(P.default,{style:tt.textStyle,children:"Informacion del partido:"})}),(0,f.jsxs)(g.default,{style:tt.textContainer,children:[(0,f.jsx)(P.default,{style:tt.textStyle,children:"Organizador:"}),(0,f.jsxs)(P.default,{children:[" ",t.organizador]})]}),(0,f.jsxs)(g.default,{style:tt.textContainer,children:[(0,f.jsx)(P.default,{style:tt.textStyle,children:"Fecha:"}),(0,f.jsxs)(P.default,{children:[" ",t.fecha]})]}),(0,f.jsxs)(g.default,{style:tt.textContainer,children:[(0,f.jsx)(P.default,{style:tt.textStyle,children:"Lugar:"}),(0,f.jsxs)(P.default,{children:[" ",t.lugar]})]})]})}var tt=b.default.create({container:{paddingLeft:0,paddingBottom:20,paddingTop:20},textContainer:{flexDirection:"row",alignContent:"flex-start"},textStyle:{fontWeight:"bold",color:"#388E3C"}});function nt(e){var t=e.match,n=e.setSelectedPlayer,o=e.setShowConfirmDialog,r=(0,a.useContext)(p).user;return(0,f.jsx)(g.default,{children:t.players.map((function(e,t){return(0,f.jsxs)(Ke.default,{style:ot.chip,disabled:!(e.id===r.id)&&!r.rol.includes(M.ADMIN),mode:"outlined",icon:"account",onPress:function(){return function(e){n(e),o(!0)}(e)},children:[t+1,"-",e.apodo," (",e.posicion,")"]},e.id)}))})}var ot=b.default.create({chip:{marginBottom:5}});const at=function(e){var t=e.title,n=e.text,o=e.match,a=e.player,r=e.visible,i=e.hideDialog,l=function(e,t){!function(e,t){var n=e.players.filter((function(e){if(e.id!==t)return e}));e.players=n,ke(e)}(e,t.id),i()},s=function(e,t,n){!function(e,t,n){var o,a,r=e.team1,i=!1;n!=z&&(r=e.team2),r&&(o=r,a=t.id,!o.find((function(e){return e.id===a})))&&(r.push(t),i=!0),r||(e[n]=[Ne({},t)],i=!0),i&&(e.players=e.players.filter((function(e){return e.id!==t.id})),ke(e))}(e,t,n),i()};return(0,f.jsxs)(Ce.default,{visible:r,onDismiss:i,children:[(0,f.jsx)(Ce.default.Title,{children:t}),(0,f.jsx)(Ce.default.Content,{children:(0,f.jsx)(le.default,{variant:"bodyMedium",children:n})}),(0,f.jsxs)(Ce.default.Actions,{children:[(0,f.jsx)(he.default,{onPress:function(){return l(o,a)},children:"Eliminar"}),(0,f.jsx)(he.default,{onPress:function(){return s(o,a,z)},children:"Equipo 1"}),(0,f.jsx)(he.default,{onPress:function(){return s(o,a,N)},children:"Equipo 2"})]})]})};function rt(e){var t=e.match,n=e.index,o=(0,a.useContext)(p).user,r=(0,a.useState)(!1),l=(0,i.default)(r,2),s=l[0],u=l[1],c=(0,a.useState)(!1),d=(0,i.default)(c,2),h=d[0],m=d[1],j=(0,a.useState)(!1),y=(0,i.default)(j,2),x=y[0],b=y[1],O=(0,a.useState)(""),C=(0,i.default)(O,2),S=C[0],E=C[1],P=(0,a.useState)(!1),w=(0,i.default)(P,2),D=w[0],k=w[1],B=(0,a.useState)(!1),T=(0,i.default)(B,2),I=T[0],A=T[1],z=(0,a.useState)(null),N=(0,i.default)(z,2),R=N[0],q=N[1],L=function(){var e=(0,v.default)((function*(){k(!D)}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,v.default)((function*(e){k(!1),Re(t,e),Me(Te(t,e))}));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)(g.default,{children:(0,f.jsxs)(ve.default,{style:it.accordion,titleStyle:it.acordeonTitle,title:t.lugar+" "+t.fecha,id:t.id+n,children:[(0,f.jsx)(et,{match:t}),(0,f.jsx)(be.default,{}),(0,f.jsxs)(g.default,{style:it.playerListContainer,children:[(0,f.jsx)(le.default,{style:it.playerListTitle,children:"Jugadores:"}),o.rol&&o.rol.includes(M.ADMIN)&&(0,f.jsx)(te.default,{style:it.sendIconButton,icon:"whatsapp",iconColor:"#1B5E20",size:20,mode:"contained-tonal",onPress:function(){return Me(Be(t))}}),o.rol&&o.rol.includes(M.ADMIN)&&(0,f.jsx)(te.default,{style:it.addGuestIconButton,icon:"account-question",iconColor:"#1B5E20",size:20,mode:"contained-tonal",onPress:function(){return A(!I)}}),o.rol&&o.rol.includes(M.ADMIN)&&(0,f.jsx)(te.default,{style:it.addPlayersToMatchIconButton,icon:"account-multiple-plus",iconColor:"#1B5E20",size:20,mode:"contained-tonal",onPress:function(){return L(t)}}),(0,f.jsx)(te.default,{style:it.addMeToMatchIconButton,icon:"account-plus",iconColor:"#1B5E20",size:20,mode:"contained-tonal",onPress:function(){return Re(t,o)}}),D?(0,f.jsx)(Ue,{addPlayerToMatch:F,match:t}):null]}),I&&(0,f.jsx)(He,{match:t,closeGuestModalEvent:function(){A(!1)}}),(0,f.jsx)(nt,{match:t,setSelectedPlayer:q,setShowConfirmDialog:b}),(0,f.jsx)(be.default,{}),(0,f.jsx)($e,{match:t}),o.rol&&o.rol.includes(M.ADMIN)&&(0,f.jsx)(Oe.default,{style:it.segmentButton,value:S,onValueChange:E,buttons:[{onPress:function(){return u(!0)},icon:"delete-outline",value:"cancel",label:"Cancelar partido"},{onPress:function(){return m(!0)},icon:"check-outline",value:"finish",label:"Finalizar partido"}]}),h&&(0,f.jsx)(Fe,{title:"Finalizar partido",text:"\xbfQuien gano?",hideDialog:function(){return m(!1)},visible:h,match:t}),s&&(0,f.jsx)(Ve,{title:"Cancelar partido",text:"Estas seguro que queres cancelar el partido?",visible:s,hideDialog:function(){return u(!1)},match:t}),R&&(0,f.jsx)(at,{title:"Confirmar accion",hideDialog:function(){q(null),b(!1)},visible:x,match:t,player:R})]})},t.id)}var it=b.default.create({accordion:{backgroundColor:"#ece6f3",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,marginBottom:5,marginTop:5},acordeonTitle:{fontWeight:"bold"},playerListContainer:{flexDirection:"row"},playerListTitle:{alignSelf:"center",paddingVertical:20,fontWeight:"bold",color:"#388E3C"},addMeToMatchIconButton:{position:"absolute",end:0,top:5},addPlayersToMatchIconButton:{position:"absolute",end:50,top:5},addGuestIconButton:{position:"absolute",end:100,top:5},sendIconButton:{position:"absolute",end:150,top:5},segmentButton:{marginTop:20}}),lt=n(4152),st=n(2966);function ut(e){var t=(0,a.useState)(!1),n=(0,i.default)(t,2),o=n[0],r=n[1],l=(0,a.useState)(void 0),s=(0,i.default)(l,2),u=s[0],c=s[1],d=(0,a.useState)(!1),p=(0,i.default)(d,2),h=p[0],m=p[1],j=(0,a.useCallback)((function(){r(!1)}),[r]),y=(0,a.useCallback)((function(t){var n=t.hours,o=t.minutes;r(!1),e.hourEvent(String(n).padStart(2,"0")+":"+String(o).padStart(2,"0"))}),[r]),x=(0,a.useCallback)((function(){m(!1)}),[m]),v=(0,a.useCallback)((function(t){m(!1),e.dateEvent(t.date)}),[m,c]);return(0,f.jsx)(g.default,{style:ct.iconDateContainer,children:(0,f.jsxs)(lt.SafeAreaProvider,{children:[(0,f.jsxs)(g.default,{style:ct.dateButtons,children:[(0,f.jsx)(he.default,{textColor:"#1B5E20",icon:"calendar-blank",mode:"outlined",onPress:function(){return m(!0)},children:"Fecha"}),(0,f.jsx)(st.DatePickerModal,{locale:"en",mode:"single",visible:h,onDismiss:x,date:u,onConfirm:v})]}),(0,f.jsxs)(g.default,{style:ct.dateButtons,children:[(0,f.jsx)(he.default,{textColor:"#1B5E20",icon:"clock-outline",mode:"outlined",onPress:function(){return r(!0)},children:"Hora"}),(0,f.jsx)(st.TimePickerModal,{visible:o,onDismiss:j,onConfirm:y,hours:12,minutes:60})]})]})})}(0,st.registerTranslation)("en",st.en);var ct=b.default.create({iconDateContainer:{flexDirection:"row"},dateButtons:{paddingTop:20,paddingHorizontal:5}});function dt(){var e=(0,a.useContext)(p).user,t=(0,a.useState)([]),n=(0,i.default)(t,2),o=n[0],s=n[1],u=(0,a.useState)(!1),c=(0,i.default)(u,2),h=c[0],m=c[1],j=(0,a.useState)(void 0),y=(0,i.default)(j,2),x=y[0],b=y[1],O=(0,a.useState)("19:00"),C=(0,i.default)(O,2),S=C[0],E=C[1];(0,a.useEffect)((function(){P()}),[]);var P=function(){var e=(0,v.default)((function*(){var e=(0,l.collection)(d,"matches");(0,l.onSnapshot)(e,(function(e){s([]),e.forEach((function(e){"pendiente"===e.data().status&&s((function(t){return[].concat((0,r.default)(t),[e.data()])}))}))}))}));return function(){return e.apply(this,arguments)}}(),w=function(){var t=(0,v.default)((function*(t){var n=ye()(x).format("DD-MM-YYYY")+" "+S+"hs",o=e.id+"-"+t.lugar+"-"+n;yield(0,l.setDoc)((0,l.doc)(d,"matches",o),{id:o,fecha:n,lugar:t.lugar,organizador:e.apodo,status:"pendiente",players:[]}),Me(Ie(n,t.lugar,e)),m(!1)}));return function(e){return t.apply(this,arguments)}}();function k(e){b(e)}function B(e){E(e)}return(0,f.jsx)(g.default,{style:ft.container,children:h?(0,f.jsx)(g.default,{style:ft.formikContainer,children:(0,f.jsx)(A.Formik,{validationSchema:xe,style:ft.formik,initialValues:{lugar:""},onSubmit:function(e){return w(e)},children:function(e){var t=e.handleChange,n=e.handleBlur,o=e.handleSubmit,a=e.values,r=e.errors;return(0,f.jsxs)(g.default,{style:ft.card,children:[(0,f.jsx)(D.default,{mode:"outlined",label:"Lugar",onChangeText:t("lugar"),onBlur:n("lugar"),value:a.lugar}),r.lugar&&(0,f.jsx)(le.default,{style:{textAlign:"center",fontSize:15,color:"red",paddingTop:10},children:r.lugar}),(0,f.jsx)(g.default,{style:ft.iconDateContainer,children:(0,f.jsx)(ut,{dateEvent:k,hourEvent:B})}),(0,f.jsx)(he.default,{style:ft.saveBtn,buttonColor:"#1B5E20",mode:"contained",onPress:o,children:"Guardar"})]})}})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ae.default,{children:(0,f.jsx)(ge.default,{children:o.map((function(e,t){return(0,f.jsx)(pe.default,{children:(0,f.jsx)(rt,{match:e,index:t},e.id)},e.id)}))})}),e.rol&&e.rol.includes(M.ADMIN)&&(0,f.jsx)(me.default,{icon:"plus",style:ft.fab,onPress:function(){m(!0)}})]})})}var ft=b.default.create({formik:{height:"100%"},container:{padding:10,height:"100%",flex:1,backgroundColor:"#fff"},formikContainer:{height:"100%"},fab:{position:"absolute",margin:16,right:0,bottom:0},card:{height:"100%"},saveBtn:{width:"100%",position:"absolute",bottom:0}});function pt(){return(0,f.jsxs)(g.default,{style:ht.container,children:[(0,f.jsx)(P.default,{children:"Proximamente!!!"}),(0,f.jsx)(O.default,{style:"auto"})]})}var ht=b.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function gt(){return(0,f.jsxs)(g.default,{style:mt.container,children:[(0,f.jsx)(P.default,{children:"Proximamente!!!"}),(0,f.jsx)(O.default,{style:"auto"})]})}var mt=b.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}}),jt=n(893);function yt(){var e=(0,a.useState)(0),t=(0,i.default)(e,2),n=t[0],o=t[1],r=(0,a.useState)([{key:"players",title:"Jugadores",focusedIcon:"account",unfocusedIcon:"account-outline"},{key:"matches",title:"Partidos",focusedIcon:"soccer-field"},{key:"statistics",title:"Estadisticas",focusedIcon:"star",unfocusedIcon:"star-outline"},{key:"notifications",title:"Notificaciones",focusedIcon:"bell",unfocusedIcon:"bell-outline"}]),l=(0,i.default)(r,1)[0],s=oe.default.SceneMap({players:function(){return(0,f.jsx)(de,{})},matches:function(){return(0,f.jsx)(dt,{})},statistics:function(){return(0,f.jsx)(pt,{})},notifications:function(){return(0,f.jsx)(gt,{})}});return(0,f.jsx)(g.default,{style:xt.container,children:(0,f.jsx)(ne.default,{source:jt,style:xt.image,children:(0,f.jsx)(oe.default,{navigationState:{index:n,routes:l},onIndexChange:o,renderScene:s,barStyle:xt.bottomNavigation})})})}var xt=b.default.create({container:{flex:1},image:{flex:1,resizeMode:"cover",justifyContent:"center"},bottomNavigation:{backgroundColor:"#E8F5E9"}}),vt=R.POOL;function bt(e){!function(e){(0,l.setDoc)((0,l.doc)(d,vt,Date.now().toString()),{pool:e})}(e)}function Ot(){var e=(0,a.useContext)(p).user,t=(0,a.useState)(""),n=(0,i.default)(t,2),o=n[0],r=n[1],s=(0,a.useState)(!1),u=(0,i.default)(s,2),c=u[0],h=u[1];(0,a.useEffect)((function(){var e=(0,l.collection)(d,R.POOL);(0,l.onSnapshot)(e,(function(e){e.forEach((function(e){r(e.data().pool)}))}))}),[]);return(0,f.jsxs)(P.default,{style:Ct.pool,children:[c&&e.rol&&e.rol.includes(M.TESORERO)&&(0,f.jsx)(te.default,{style:Ct.addGuestIconButton,icon:"content-save",iconColor:"#1B5E20",size:20,onPress:function(){return function(e){bt(e),h(!1)}(o)}}),!c&&e.rol&&e.rol.includes(M.TESORERO)&&(0,f.jsx)(te.default,{icon:"pencil",iconColor:"#1B5E20",size:20,onPress:function(){return h(!0)}}),"Pozo: ",(0,f.jsx)(D.default,{value:o,mode:"outlined",inputMode:"numeric",style:Ct.input,contentStyle:{paddingHorizontal:-10},outlineStyle:{borderWidth:0,padding:0},onChangeText:function(e){return r(e)},disabled:!c})]})}var Ct=b.default.create({pool:{fontSize:20,marginLeft:10}}),St=(0,x.default)();function Et(){var e=(0,a.useContext)(p),t=(e.user,e.setUser),n=function(){var e=(0,v.default)((function*(){try{y.default.removeItem("@user"),t(null)}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}();return(0,f.jsx)(St.Navigator,{screenOptions:{title:"",headerRightContainerStyle:Pt.headerRight,headerStyle:{},headerLeft:function(){return(0,f.jsx)(Ot,{})},headerRight:function(){return(0,f.jsx)(te.default,{iconColor:"#1B5E20",icon:"logout",size:30,onPress:n})}},children:(0,f.jsx)(St.Screen,{name:"Home",component:yt})})}var Pt=b.default.create({headerRight:{paddingRight:20}});function wt(){var e=(0,a.useState)(!0),t=(0,i.default)(e,2),n=t[0],o=t[1],r=(0,a.useContext)(p),l=r.user,s=r.setUser;return(0,a.useEffect)((function(){l||y.default.getItem("@user").then((function(e){e&&(s(JSON.parse(e)),o(!1)),o(!1)})),o(!1)}),[l]),n?(0,f.jsx)(g.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,f.jsx)(m.default,{size:"small",color:"#1B5E20"})}):(0,f.jsx)(j.default,{children:l?(0,f.jsx)(Et,{}):(0,f.jsx)(ee,{})})}(0,o.default)((function(){return(0,f.jsx)(h,{children:(0,f.jsx)(wt,{})})}))},893:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/background.5c91ccee8725ee58a592.jpeg"},4654:()=>{}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,(()=>{var e=[];n.O=(t,o,a,r)=>{if(!o){var i=1/0;for(c=0;c<e.length;c++){for(var[o,a,r]=e[c],l=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,a){if(1&a&&(o=this(o)),8&a)return o;if("object"===typeof o&&o){if(4&a&&o.__esModule)return o;if(16&a&&"function"===typeof o.then)return o}var r=Object.create(null);n.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&o;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>o[e]));return i.default=()=>o,n.d(r,i),r}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[i,l,s]=o,u=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var c=s(n)}for(t&&t(o);u<i.length;u++)r=i[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[592],(()=>n(2393)));o=n.O(o)})();
//# sourceMappingURL=main.b797a5e7.js.map